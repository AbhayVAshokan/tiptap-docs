The AI Proofreader extension must be configured with a list of rules to help the LLM analyze the editor's content and generate suggestions.

```ts
AiProofreader.configure({
  rules: [
    {
      id: '1',
      title: 'Spell Check',
      prompt: 'Identify and correct any spelling mistakes',
      color: '#DC143C',
      backgroundColor: 'FFE6E6',
    },
  ],
})
```

Each proofreader suggestion is associated with a rule. If no rules are provided, the AI Proofreader extension will not generate any suggestions.

Each rule has an id. This string property must be unique, so that the LLM can associate the suggestions with the correct rule.

The prompt property is a string that describes the rule. This text is provided to the LLM to help it generate suggestions.

Only the id and the prompt are provided to the LLM. The title, color and backgroundColor properties are used to style and display the suggestions in the editor.

### Are rules stored in Tiptap cloud?

If you use Tiptap Content AI Cloud to generate suggestions for your content, rules are not stored in the cloud. They are sent on each request.

Because we do not store your rules, you can change them at any time and enable them based on your own application-specific logic. For example, you can have rules that apply to all documents, document-specific rules, rules that apply to certain users, or even have the user define their own rules.

If you want rules to persist across sessions, you should store them in your own database.

### How to change rules after the editor is loaded

You can change the rules at any time without having to reload the editor. Use the `setAiProofreaderRules` command to update the rules.

```tsx
const newRules = [
  {
    id: '2',
    title: 'Grammar Check',
    prompt: 'Identify and correct any grammar mistakes',
    color: '#FFA500',
    backgroundColor: 'FFF5E6',
  },
]

editor.commmands.setAiProofreaderRules(newRules)
```

Warning: the `setAiProofreaderRules` command will not automatically reload the suggestions. You need to call the `loadAiProofreaderSuggestions` command to update the suggestions based on the new rules. A common pattern is to chain the two commands together.

```tsx
editor.chain().setAiProofreaderRules(newRules).loadAiProofreaderSuggestions().run()
```
