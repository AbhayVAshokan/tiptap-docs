---
title: Customize how Suggestions Are Displayed
meta:
  title: Display Suggestions | Tiptap AI Proofreader
  description: Customize how AI Proofreader suggestions are displayed in the editor with custom styles and tooltips.
  category: Content AI
---

The AI Proofreader extension is headless and fully customizable. This means that you have full control over how suggestions are displayed in the editor.

## Show loading/error states when loading suggestions

You can access the extension's current loading state by reading its extension storage object

```ts
const storage = editor.extensionStorage.aiProofreader
if (storage.isLoading) {
  // Show a loading spinner
} else if (storage.error) {
  // Show an error message.
}
```

The `storage.error` property will contain the error object that was thrown while loading suggestions. You can use this object to display different error messages depending on the error type.

## Default suggestion styles

By default, the AI Proofreader extension will apply the CSS class `tiptap-ai-proofreader-suggestion` to each suggestion. It will also add a `style` attribute with these color variables: `--tiptap-ai-proofreader-suggestion-color` and `--tiptap-ai-proofreader-suggestion-background-color`. The `tiptap-ai-proofreader-suggestion` class can be used to apply simple styles to the suggestions in the editor.

```css
.tiptap-ai-proofreader-suggestion {
  border-bottom: 2px solid var(--tiptap-ai-proofreader-suggestion-color);
  margin-bottom: -2px;
}
```

For more advanced styles, use the `getCustomSuggestionDecoration` option (TODO link to the section).

## Selected suggestions

A suggestion is considered "selected" when the cursor is over it.

You can read the selected suggestion from the extension's storage object

```ts
const storage = editor.extensionStorage.aiProofreader
const selectedSuggestion = storage.getSelectedSuggestion()
```

To select a suggestion programmatically, use the `selectAiProofreaderSuggestion` command.

```ts
editor.commands.selectAiProofreaderSuggestion(suggestionId)
```

This will move the cursor to the beginning of the suggestion, so that it is considered "selected".

By default, the AI Proofreader extension will apply the CSS class `tiptap-ai-proofreader-suggestion--selected` to the selected suggestion. This class can be used
to style the selected suggestion in the editor.

```css
.tiptap-ai-proofreader-suggestion--selected {
  background-color: var(--tiptap-ai-proofreader-suggestion-background-color);
  transition: background-color 0.5s;
}
```

## Customize the suggestion's appearance

The `getCustomSuggestionDecoration` option allows you to control the appearance of suggestions and provide visual cues to the user. You can add custom CSS classes to the suggestions, and add custom elements before/after them. This is useful for adding tooltips, icons, or other elements to the suggestions.

The function Custom suggestion styles are applied using the [Prosemirror Decorations API](https://prosemirror.net/docs/ref/#view.Decorations).

To learn how to show a tooltip to the suggestions, [follow this guide ](/content-ai/extensions/ai-proofreader/features/display-suggestions#show-a-tooltip-when-you-select-a-suggestion).

```ts
AiProofreader.configure({
  getCustomSuggestionDecoration({ suggestion, isSelected, getDefaultDecorations }) {
    // You can combine the default decorations of the AI Proofreader extension with your custom ones
    const decorations = getDefaultDecorations()

    // Add a custom element after the suggestion text
    Decoration.widget(suggestion.deleteRange.to, () => {
      const element = document.createElement('span')
      element.textContent = '⚠️'
      return element
    })
    return decorations
  },
})
```

## Show a tooltip when you select a suggestion

An essential feature of modern AI Proofreaders is the ability to show a tooltip when you select a suggestion. This tooltip usually provides extra information about the suggestion, and allows the user to accept or reject it.

To show a tooltip when you select a suggestion, you need to use the `getCustomSuggestionDecoration` option. This function allows you to add custom elements to the suggestions, including tooltips.

Below is a simplified example on how to do it with the React UI library.

```tsx
// First, define a hook to store the HTML element where the tooltip will be rendered
const [tooltipElement, setTooltipElement] = useState<HTMLElement | null>(null)

AiProofreader.configure({
  getCustomSuggestionDecoration({ suggestion, isSelected, getDefaultDecorations }) {
    const decorations = getDefaultDecorations()

    // Then, create a Prosemirror decoration that contains the HTML element
    Decoration.widget(suggestion.deleteRange.to, () => {
      const element = document.createElement('span')

      return element
    })
    return decorations
  },
})

// Then, add the content to the custom element. In this example, we use React Portals to render the tooltip inside the editor.
if (tooltipElement) {
  ReactDOM.createPortal(<Tooltip suggestion={editor.selectedSuggestion} />, tooltipElement)
}
```

We recommend using the [Floating UI](https://floating-ui.com/) library to display the tooltip. You can see an example on how to do it [in the Demo](/content-ai/extensions/ai-proofreader/getting-started/overview).

When you render the suggestion in the tooltip, you might want to show the previous and next words of the sentence to give the user more context. We've created the `getNextWord` and `getPreviousWord` utility functions so that you don’t have to implement them yourself. You can import them from the `@tiptap-pro/extension-ai-proofreader` library.

```ts
import { getNextWord, getPreviousWord } from '@tiptap-pro/extension-ai-proofreader'

// Get the previous word in the sentence.
const { previousWord } = getPreviousWord(editor, suggestion.deleteRange.from)
// Get the next word in the sentence and the punctuation mark that follows it, if it's the end of the sentence.
const { nextWord, punctuationMark } = getNextWord(editor, suggestion.deleteRange.to)
```

## Display suggestions in a sidebar outside the editor

You can access the current suggestions from the extension's storage object [API Reference](https://www.notion.so/API-Reference-1b901ffa3ebc80cea860ebbde1820fd0?pvs=21)

```ts
const storage = editor.extensionStorage.aiProofreader
const suggestions = storage.getSuggestions()
```

Then, you can use this data to render suggestions in the UI, outside the editor. Here is an example of how to do it with the React UI library

```tsx
// Get the suggestions from the Editor state.
const storage = editor.extensionStorage.aiProofreader
const suggestions = storage.getSuggestions()

// Render the suggestions in the UI
return (
  <div>
    {suggestions.map((suggestion) => (
      <div key={suggestion.id}>
        <p>{suggestion.deleteText}</p>
        <ul>
          {suggestion.replacementOptions.map((option) => (
            <li key={option.id}>{option.addText}</li>
          ))}
        </ul>
      </div>
    ))}
  </div>
)
```
