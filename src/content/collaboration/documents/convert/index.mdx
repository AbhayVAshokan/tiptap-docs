---
title: Convert documents with Tiptap
meta:
  title: Convert | Tiptap Collaboration
  description: Use Tiptap to convert documents from docx, odt or markdown to Tiptap
  category: Collaboration
---

With Tiptap Convert, you can easily import and export documents from various formats like docx, odt, and markdown. This feature allows you to convert documents to and from Tiptap's JSON format, enabling seamless integration with your collaborative editor.

## Setup JWT authentication on your server

JWT, or JSON Web Token, is a compact, URL-safe means of representing claims to be transferred between two parties. The information in a JWT is digitally signed using a cryptographic algorithm to ensure that the claims cannot be altered after the token is issued. This digital signature makes the JWT a reliable vehicle for secure information exchange in web applications, providing a method to authenticate and exchange information.

### Create a static JWT for testing

For testing purposes, you might not want to set up a complete backend system to generate JWTs. In such cases, using online tools like http://jwtbuilder.jamiekurtz.com/ can be a quick workaround. These tools allow you to create a JWT by inputting the necessary payload and signing it with a secret key.

When using these tools, ensure that the "Key" field is replaced with the secret key from your [Collaboration settings](https://collab.tiptap.dev/apps/settings) page. You don’t need to change any other information.

**Remember, this approach is only recommended for testing due to security risks associated with exposing your secret key.**

### Generate JWTs server side

For production-level applications, generating JWTs on the server side is a necessity to maintain security. Exposing your secret key in client-side code would compromise the security of your application. Here’s an example using NodeJS for creating JWTs server-side:

```bash
npm install jsonwebtoken
```

```js
import jsonwebtoken from 'jsonwebtoken'

const payload = {
  // The payload contains claims like the user ID, which can be used to identify the user and their permissions.
  userId: 'user123',
}

// The 'sign' method creates the JWT, with the payload and your secret key as inputs.
const jwt = jsonwebtoken.sign(payload, 'your_secret_key_here')
// The resulting JWT is used for authentication in API requests, ensuring secure access.
// Important: Never expose your secret key in client-side code!
```

This JWT should be incorporated into API requests within the token field of your authentication provider, safeguarding user sessions and data access.

To fully integrate JWT into your application, consider setting up a dedicated server or API endpoint, such as `GET /getConvertToken`. This endpoint would dynamically generate JWTs based on a secret stored securely on the server and user-specific information, like document access permissions.

This setup not only increases security but also provides a scalable solution for managing user sessions and permissions in your collaborative application.

Ensure the secret key is stored as an environment variable on the server, or define it directly in the server code. Avoid sending it from the client side.

### Setting up the client

Before we can start converting documents, we need to set up the client. The client is responsible for sending requests to the server to convert documents. The client needs to be authenticated with a JWT token to access the conversion service.

### Installing the client

To make working with the converter easier, you can use the `@tiptap/convert` package. This package provides a simple API to import and export documents.

```bash
npm i @tiptap/convert
```

### Creating the client & adding authentication

```js
// Start with importing the client into your project
import { createClient } from '@tiptap/convert'

// Create a new client instance
// use a generated client JWT token to authenticate your client
// see the JWT generation guide above
const convertClient = createClient({
  appId: 'YOUR_APP_ID',
  token: 'CLIENT_JWT_TOKEN',
})

// export your convert client for later use
export default convertClient
```

### Importing your first document and modifiying the editor

```js
// Import your convert client
import convertClient from './convertClient'

// Handle a file upload
const handleFileUpload = async (event) => {
  const file = event.target.files[0] // lets pick the file out of the form event

  try {
    // Convert the file to a Tiptap document
    const tiptapDocument = await convertClient.import({ file, format: 'docx' })

    // Now you can use the tiptapDocument in your editor
    editor.chain().setContent(tiptapDocument).run()
  } catch (e) {
    // add your custom error handling
    console.error(e)
  }
}
```

### Exporting a document

```js
// import your convert client
import convertClient from './convertClient'

const handleDocxExport = async () => {
  try {
    // Convert the Tiptap document to a docx file
    const docxFile = await convertClient.export({ content: editor.getJSON(), format: 'docx' })

    // Now you can download the docx file by creating a link containing the file's object url
    const url = URL.createObjectURL(docxFile)
    const link = document.createElement('a')
    link.href = url
    link.download = 'document.docx'
    link.click()

    // remember to remove the unused element from the DOM
    link.remove()
  } catch (e) {
    // add your custom error handling
    console.error(e)
  }
}
```

## Supported formats

### Import

- `docx` - Microsoft Word, Google Docs, OpenOffice, LibreOffice and others
- `odt` - OpenDocument Text format used by OpenOffice, LibreOffice and others
- `rtf` - Rich Text Format used by Microsoft Word, Google Docs and others
- Commonmark `markdown` - Markdown format used by various editors and platforms
- GFM `markdown` - GitHub Flavored Markdown used by GitHub

### Export

- `docx` - Microsoft Word, Google Docs, OpenOffice, LibreOffice and others
- `odt` - OpenDocument Text format used by OpenOffice, LibreOffice and others
- Commonmark `markdown` - Markdown format used by various editors and platforms
- GFM `markdown` - GitHub Flavored Markdown used by GitHub

## More information

- [API Reference](/collaboration/documents/convert/api)
